version: '3'
services: 
  elastic:
    image: 'docker.elastic.co/elasticsearch/elasticsearch:7.10.1'
    environment:
      - discovery.type=single-node
    ports: 
      - '9200:9200'
      - '9300:9300'
  app:
    build: 
      dockerfile: Dockerfile
      context: .
    volumes: 
      - /app/node_modules
      - ./:/app
    environment: 
      - PORT=3000
      - DB_HOST=http://elastic:9200
    ports: 
      - '3000:3000'
